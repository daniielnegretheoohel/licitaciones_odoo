<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <template id="meta_personal_report_template">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">

                <!-- Odoo pasa 'docs', no 'doc' -->
                <t t-set="o" t-value="docs"/>

                <div class="page">

                    <h2 style="text-align:center;">Reporte de Meta Personal</h2>
                    <hr/>

                    <h3>
                        <strong>Nombre:</strong>
                        <t t-esc="o.nombre"/>
                    </h3>

                    <p>
                        <strong>Categoría:</strong>
                        <!-- SELECTION: mostrar etiqueta bonita -->
                        <t t-esc="o._fields['categoria'].convert_to_export(o.categoria, o)"/>
                    </p>

                    <p>
                        <strong>Estado:</strong>
                        <t t-esc="o.estado"/>
                    </p>

                    <p>
                        <strong>Fecha límite:</strong>
                        <t t-esc="o.fecha_limite"/>
                    </p>

                    <p>
                        <strong>Días restantes:</strong>
                        <t t-esc="o.dias_restantes"/>
                    </p>

                    <!-- Descripción -->
                    <h3>Descripción</h3>
                    <p><t t-raw="o.descripcion"/></p>

                    <br/>

                    <!-- Actividades -->
                    <h3>Actividades</h3>
                    <table class="table table-sm">
                        <tr>
                            <th>Fecha</th>
                            <th>Tipo</th>
                        </tr>

                        <t t-foreach="o.actividad_ids" t-as="act">
                            <tr>
                                <td><t t-esc="act.fecha"/></td>
                                <td>
                                    <t t-esc="act._fields['tipo_actividad'].convert_to_export(act.tipo_actividad, act)"/>
                                </td>
                            </tr>
                        </t>
                    </table>

                    <br/>

                    <!-- Recomendaciones -->
                    <h3>Recomendaciones</h3>
                    <table class="table table-sm">
                        <tr>
                            <th>Tipo</th>
                        </tr>

                        <t t-foreach="o.recomendacion_ids" t-as="rec">
                            <tr>
                                <td>
                                    <t t-esc="rec._fields['tipo_recomendacion'].convert_to_export(rec.tipo_recomendacion, rec)"/>
                                </td>
                            </tr>
                        </t>
                    </table>

                </div>

            </t>
        </t>
    </template>

</odoo>
